<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <function model="project.project" name="_init_data_analytic_account" eval="[]"/>

    <data noupdate="1">
        <record id="project_account_method_employee_rate_avg_project" model="project.account.method.employee.rate">
            <field name="name">Average Project Rate</field>
            <field name="sequence">1</field>
            <field name="expression">result = record.project_id.hourly_cost</field>
        </record>

        <record id="project_account_method_employee_rate_project_role" model="project.account.method.employee.rate">
            <field name="name">Project Role Rate</field>
            <field name="sequence">2</field>
            <field name="expression">result = record.project_id.project_member_ids.filtered(lambda m: m.employee_id ==
                record.employee_id and m.date_start &lt;= record.date &lt;= m.date_end)[:1].role_id.hourly_cost or 0.0
            </field>
        </record>

        <record id="project_account_method_employee_rate_avg_employee" model="project.account.method.employee.rate">
            <field name="name">Average Employee Rate</field>
            <field name="sequence">3</field>
            <field name="expression">result = record.employee_id.hourly_cost</field>
        </record>
    </data>
</odoo>
